<!doctype html><html dir=ltr lang=en data-theme><head><title>Igor Buchakov | Создание GPG ключа</title><meta charset=utf-8><meta name=generator content="Hugo 0.82.1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="Hi there. I am a backend developer."><link rel=stylesheet href=/css/style.min.7ec96a07e10b60a6997be730fc5d4d3467a225c68515a7df6ae17ac2500f828c.css integrity="sha256-fslqB+ELYKaZe+cw/F1NNGeiJcaFFaffauF6wlAPgow=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS+yuWSR4=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.5fd41166a98254393bb645222faa45e9e717ccb767c6c73c4a6d2fee67df82dd.css integrity="sha256-X9QRZqmCVDk7tkUiL6pF6ecXzLdnxsc8Sm0v7mffgt0=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=canonical href=/posts/2021/04/create-gpg-key/><script type=text/javascript src=/js/anatole-header.min.0c05c0a90d28c968a1cad4fb31abd0b8e1264e788ccefed022ae1d3b6f627514.js integrity="sha256-DAXAqQ0oyWihytT7MavQuOEmTniMzv7QIq4dO29idRQ=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Создание GPG ключа"><meta name=twitter:description content="Мы должны убедиться, что gpg установлен $ gpg --version gpg (GnuPG) 2.2.27 ... Запускаем генерацию $ gpg --full-generate-key Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? Здесь нужно выбрать, какого типа ключ мы хотим сгенерировать. Выбираем вариант по умолчанию.
Далее нас спросят, какой длины ключ мы хотели бы сгенерировать RSA keys may be between 1024 and 4096 bits long."></head><body><div class="sidebar animated fadeInDown"><div class=logo-title><div class=title><img src=/images/ava.jpeg alt="profile picture"><h3 title><a href=/>Igor Buchakov</a></h3><div class=description><p>Hi there. I am a backend developer.</p></div></div></div><ul class=social-links><li><a href=https://www.linkedin.com/in/igor-buchakov-2a322119a rel=me aria-label=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li><a href=https://github.com/bu4ak rel=me aria-label=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=https://www.instagram.com/bu4akov rel=me aria-label=instagram><i class="fab fa-instagram fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:igorbu4@gmail.com rel=me aria-label=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li><li><a href=https://t.me/igorbu4 rel=me aria-label=telegram><i class="fab fa-telegram fa-2x" aria-hidden=true></i></a></li></ul><div class=footer><div class=by_farbox>&copy; Igor Buchakov 2021</div></div></div><div class=main><div class="page-top animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a><ul class=nav id=navMenu><li><a href=/ title>Home</a></li><li><a href=/posts/ title>Posts</a></li><li class=theme-switch-item><a class=theme-switch title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></li></ul></div><div class=autopagerize_page_element><div class=content><div class="post animated fadeInDown"><div class=post-content><div class=post-title><h3>Создание GPG ключа</h3></div><h3 id=мы-должны-убедиться-что-gpg-установлен>Мы должны убедиться, что <em>gpg</em> установлен</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>    $ gpg --version

    gpg <span style=color:#f92672>(</span>GnuPG<span style=color:#f92672>)</span> 2.2.27
    ...
</code></pre></div><h3 id=запускаем-генерацию>Запускаем генерацию</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>    $ gpg --full-generate-key     

    Please <span style=color:#66d9ef>select</span> what kind of key you want:
    <span style=color:#f92672>(</span>1<span style=color:#f92672>)</span> RSA and RSA <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
    <span style=color:#f92672>(</span>2<span style=color:#f92672>)</span> DSA and Elgamal
    <span style=color:#f92672>(</span>3<span style=color:#f92672>)</span> DSA <span style=color:#f92672>(</span>sign only<span style=color:#f92672>)</span>
    <span style=color:#f92672>(</span>4<span style=color:#f92672>)</span> RSA <span style=color:#f92672>(</span>sign only<span style=color:#f92672>)</span>
    <span style=color:#f92672>(</span>14<span style=color:#f92672>)</span> Existing key from card
    Your selection? 
</code></pre></div><p>Здесь нужно выбрать, какого типа ключ мы хотим сгенерировать. Выбираем вариант по умолчанию.</p><h3 id=далее-нас-спросят-какой-длины-ключ-мы-хотели-бы-сгенерировать>Далее нас спросят, какой длины ключ мы хотели бы сгенерировать</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>    RSA keys may be between <span style=color:#ae81ff>1024</span> and <span style=color:#ae81ff>4096</span> bits long.
    What keysize <span style=color:#66d9ef>do</span> you want? <span style=color:#f92672>(</span>3072<span style=color:#f92672>)</span> 
</code></pre></div><p>На текущий момент рекомендуемая длина <em>3072</em>. Нужно учитывать, что бóльшая длина обеспечивает бóльшую надёжность. Но в то же время может снижать производительность (особенно при шифровании больших файлов).</p><h3 id=время-жизни-ключа>Время жизни ключа</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Please specify how long the key should be valid.
         0 <span style=color:#f92672>=</span> key does not expire
      &lt;n&gt;  <span style=color:#f92672>=</span> key expires in n days
      &lt;n&gt;w <span style=color:#f92672>=</span> key expires in n weeks
      &lt;n&gt;m <span style=color:#f92672>=</span> key expires in n months
      &lt;n&gt;y <span style=color:#f92672>=</span> key expires in n years
Key is valid <span style=color:#66d9ef>for</span>? <span style=color:#f92672>(</span>0<span style=color:#f92672>)</span> 
</code></pre></div><p>Наиболее безопасный вариант - это вариант с ограниченным сроком жизни. Например, в случае утери доступа к ключу, комьютеру и тд, через какое-то время ключ &ldquo;протухнет&rdquo;. Но в таком случае нужно следить за его сроком жизни и своевременно его обновлять. Для простоты выбираем значение по умолчанию (0).
Далее нужно подтвердить свой выбор:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Key does not expire at all
Is this correct? <span style=color:#f92672>(</span>y/N<span style=color:#f92672>)</span> 
</code></pre></div><h3 id=персональные-данные>Персональные данные</h3><p>Заполняем имя и адрес электронной почты, с которыми будет ассоциироваться данный ключ. Например:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Real name: Igor
Email address: test@mail.com
Comment: 
</code></pre></div><p>Проверяем</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>You selected this USER-ID:
    <span style=color:#e6db74>&#34;Igor &lt;test@mail.com&gt;&#34;</span>

Change <span style=color:#f92672>(</span>N<span style=color:#f92672>)</span>ame, <span style=color:#f92672>(</span>C<span style=color:#f92672>)</span>omment, <span style=color:#f92672>(</span>E<span style=color:#f92672>)</span>mail or <span style=color:#f92672>(</span>O<span style=color:#f92672>)</span>kay/<span style=color:#f92672>(</span>Q<span style=color:#f92672>)</span>uit? 

</code></pre></div><p>и если всё верно, подтверждаем ввод (O).</p><h3 id=пароль>Пароль</h3><p>При генерации gpg ключа использование пароля не обязательно, но очень рекомендуется.</p><p>Вводим и подтверждаем пароль.</p><h3 id=проверяем-сгенерированный-ключ>Проверяем сгенерированный ключ</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ gpg2 --list-secret-keys --keyid-format LONG

sec   rsa3072/687AC877135E6279 2021-04-26 <span style=color:#f92672>[</span>SC<span style=color:#f92672>]</span>
      7998D756E71D86C525AE1B4F687AC877135E6272
uid                 <span style=color:#f92672>[</span>ultimate<span style=color:#f92672>]</span> Igor &lt;test@mail.com&gt;
ssb   rsa3072/D8A0CD6CA99110B3 2021-04-26 <span style=color:#f92672>[</span>E<span style=color:#f92672>]</span>

</code></pre></div><p>где <strong>687AC877135E6279</strong> - это id нашего ключа. Для большинства оперций обычно используется именно он.</p></div><div class=post-footer><div class=info><span class=separator><a class=tag href=/tags/linux/>linux</a><a class=tag href=/tags/security/>security</a></span></div></div></div></div></div></div><script type=text/javascript src=/js/medium-zoom.min.2d6fd0be87fa98f0c9b4dc2536b312bbca48757f584f6ea1f394abc9bcc38fbc.js integrity="sha256-LW/Qvof6mPDJtNwlNrMSu8pIdX9YT26h85SrybzDj7w=" crossorigin=anonymous></script></body></html>